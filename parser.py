"""

parser.py

Written by William Jiang 04/10/21

Parses a string to get a series of coordinates to feed to the laser.
Coordinates are based in the laser coordinate system

format:
y1,z1;y2,z2;...;yn,zn;

"""

import re

def parse(coords_str: str) -> list:
    coords_list = coords_str.split(';')
    ret = []
    for pair in coords_list:
        pair_split = pair.split(',')
        ret.append((float(pair_split[0]), float(pair_split[1])))

    return ret

if __name__ == '__main__':
    ex = parse("8.75,102;8.75,102;9,102;9.5,103;9.75,104;10.25,107;10.75,109;11.25,112;12,117;12.75,121;13.5,125;14,130;14.5,135;15,140;15.5,146;16,152;16.5,158;17.5,181;17.75,186;18,190;18.25,194;18.25,197;18.25,200;18.5,205;18.5,206;18.5,211;18.5,214;18.5,217;18.5,222;18.5,227;18.5,232;18.5,239;18.5,245;18.5,252;18.25,258;18,261;17.75,265;17.5,268;17.25,271;17,273;17,275;16.75,276;16.5,277;16.25,278;15.75,279;15.25,280;14.5,281;13.75,282;13,283;12,283;11,284;9.75,284;8.5,285;7.25,285;6,285;4.75,285;4.25,285;3.25,285;2.5,285;1.75,285;1.25,285;0.75,285;0.25,285;0,285;-0.5,285;-0.75,285;-1.25,285;-1.5,284;-1.75,284;-2,283;-2.25,281;-2.5,280;-3,277;-3.25,274;-3.25,269;-3.5,265;-3.75,260;-3.75,255;-4,251;-4,248;-4,245;-4,241;-4,239;-4,236;-4,234;-4,233;-4,232;-4,230;-4,229;-4,228;-3.75,227;-3.75,226;-3.5,224;-3.5,223;-3.5,222;-3.25,221;-3.25,221;-3.25,220;-3.25,220;-3.25,220;-3.25,220;-3.25,219;-3.25,220;-3.5,223;-3.75,227;-4.25,231;-4.75,234;-5.5,240;-6.25,245;-6.75,248;-7.25,251;-7.75,255;-8.25,258;-8.75,260;-9,261;-9.25,262;-9.5,263;-9.75,264;-10,264;-10.25,265;-10.5,266;-11,266;-11.75,267;-12,267;-12.75,268;-13.25,269;-14,269;-14.25,269;-15.25,269;-15.75,269;-16.25,269;-16.5,268;-17.25,267;-18.25,264;-18.5,263;-18.75,262;-19.25,260;-20,255;-20.25,253;-20.5,250;-20.5,247;-20.75,245;-20.75,240;-21,237;-21,233;-21,230;-21,226;-21,222;-21,218;-21,214;-21,209;-21,206;-20.75,201;-20.5,196;-20.5,192;-20,187;-19.75,182;-19.5,177;-19,172;-18.5,167;-18,162;-17.5,158;-17,154;-16.5,150;-16,145;-15.25,141;-14.5,136;-14,132;-13.25,128;-12.75,125;-12,120;-11.75,119;-11,116;-10.5,114;-10,112;-9.5,110;-9.25,109;-8.75,107;-8.25,106;-7.5,104;-7,103;-6.75,102;-6.5,101;-5.75,100;-5.5,99;-5,98;-4.5,97;-4,96;-3.25,95;-3,95;-2.25,94;-1.75,94;-1.25,94;-0.75,94;0,94;0.5,94;0.75,94;1.5,94;2.25,94;2.5,94;3,95;3.25,96;3.75,97;4,97;4.25,98;4.5,99;5,99;5.25,100;5.5,100;5.75,101;6,101;6,101;6.25,101;6.5,102;6.75,102;7,102;7.25,102;7.5,102;7.75,102;8,102;8.25,103;8.5,103;8.5,103;8.75,103;8.75,103;8.75,103;8.75,103;9,103;8.75,103")


